export default t=>{class s extends HTMLElement{constructor(){super(),Object.assign(this,t),this.props&&Object.keys(this.props()).forEach((t=>{const s=this.props()[t];this[t]=s(this.getAttribute(t)||null)})),this.DOM=this.shadow?this.attachShadow({mode:"open"}):this;const s=this.styles?`<style>${this.styles()}</style>`:"",e=this.template?this.template():"";this.DOM.innerHTML=s+e,this.parts={},this.DOM.querySelectorAll("[part]").forEach((t=>{t.on=(s,e)=>{e=e.bind(this),t.addEventListener(s,(t=>e(t)))},this.parts[t.getAttribute("part")]=t}))}connectedCallback(){this?.ready&&this.ready()}}!customElements.get(t.component)&&customElements.define(t.component,s)};