export default(()=>{switch(!!customElements.get("snappy-calendar")){case!0:break;case!1:class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const t=this.getAttribute("prev-aria-label")||"Show Previous Month",e=this.getAttribute("next-aria-label")||"Show Next Month";this.shadowRoot.innerHTML=`<style>:host {display: block;}:host * {box-sizing: border-box;}[part=header] {display: flex;align-items: center;justify-content: space-between;margin-bottom: 1rem;}[part=prev],[part=next] {background: none;border: none;cursor: pointer;padding: 0;height: 3rem;width: 3rem;display: flex;align-items: center;justify-content: center;}[part=prev] svg,[part=next] svg{fill: currentcolor;display: block;}:host([format=list]) [part=grid] [part=day] {margin-bottom: 1.5rem;}:host([format=list]) [part=grid] [part=day]:before {content: attr(data-label)}:host([format=list]) [part=grid] [part=day]:empty {display: none;}:host([format=grid]) [part=grid] {display: grid;grid-template-columns: repeat(7, 1fr);gap: .25rem;}:host([format=grid]) [part=grid] [part=day] {padding: 0.25rem;min-height: 5rem;}:host([format=grid]) [part=grid] [part=day]:before {content: attr(data-numeral);}[part=event] {margin: 0.75em 0;}[part=event-name] {display: block;font-size: .9rem;text-decoration: none;}[part=event-time] {font-size: .75rem;opacity: 0.75;}</style><div part="header"><button part="prev" aria-label="${t}"><slot name="prev"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" /></svg></slot></button><div part="date"></div><button part="next" aria-label="${e}"><slot name="next"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg></slot></button></div><div part="grid"></div>`;const a=this.shadowRoot,r=a.querySelector("[part=prev]"),i=a.querySelector("[part=next]");this.date=a.querySelector("[part=date]"),this.grid=a.querySelector("[part=grid]");const n=new Date;this.selectedMonth=n.getMonth(),this.selectedYear=n.getFullYear(),r.addEventListener("click",this.prev),i.addEventListener("click",this.next)}getEvents=(t,e)=>{fetch(["https://www.googleapis.com","/calendar/v3/calendars/",this.getAttribute("calendar"),"/events?key=",this.getAttribute("key"),`&timeMin=${t}`,`&timeMax=${e}`,"&singleEvents=true","&orderBy=startTime"].join("")).then((t=>t.json())).then((t=>this.renderEvents(t)))};goToMonth=(t,e)=>{this.grid.innerHTML="";const a=new Date(t,e),r=a.getDay(),i=a.toISOString(),n=new Date(t,e+1).toISOString(),s=new Date(t,e+1,0).getDate();this.date.innerHTML=a.toLocaleDateString(this.locale,{month:"long",year:"numeric"});for(let a=1;a<=s;a++){let i=document.createElement("div");i.part="day",i.dataset.numeral=a,i.dataset.label=new Date(t,e,a).toLocaleDateString(this.locale,{weekday:"long",month:"long",day:"numeric"}),this.grid.appendChild(i),1===a&&(i.style.gridColumnStart=r+1)}this.getEvents(i,n)};renderEvents=t=>{const e=t=>t.toLocaleString(this.locale,{hour:"numeric",minute:"numeric"});t.items.forEach((t=>{const a=new Date(t.start.dateTime),r=a.getDate(),i=e(a),n=e(new Date(t.end.dateTime));this.grid.querySelector(`[part=day]:nth-child(${r})`).innerHTML+=`<div part="event"><a part="event-name" href="${t.htmlLink}" target="_blank">${t.summary}</a><span part="event-time">${i} - ${n}</span></div>`}))};prev=()=>{this.selectedMonth>0?this.selectedMonth--:(this.selectedMonth=11,this.selectedYear--),this.goToMonth(this.selectedYear,this.selectedMonth)};next=()=>{this.selectedMonth<11?this.selectedMonth++:(this.selectedMonth=0,this.selectedYear++),this.goToMonth(this.selectedYear,this.selectedMonth)};connectedCallback(){if(this.locale=this.getAttribute("locale")||navigator.language||void 0,!this.hasAttribute("format")){const t=matchMedia("(min-width: 1024px)"),e=()=>{this.setAttribute("format",t.matches?"grid":"list")};e(),t.addEventListener("change",e)}this.goToMonth(this.selectedYear,this.selectedMonth)}static get observedAttributes(){return["calendar, key, locale"]}attributeChangedCallback(){this.connectedCallback()}}customElements.define("snappy-calendar",t)}})();